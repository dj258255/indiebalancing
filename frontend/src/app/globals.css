@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   Mobile & Touch Support
   참고: AG Grid, Handsontable, Google Sheets 패턴
   ======================================== */

/**
 * touch-action 설정
 * - 드래그 가능한 요소에서 브라우저 기본 터치 동작 방지
 * - 참고: https://javascript.info/pointer-events
 */
.touch-none {
  touch-action: none;
  -webkit-touch-callout: none; /* iOS 롱프레스 메뉴 방지 */
}

/* 스프레드시트 셀 - 드래그 선택 시 스크롤 방지 */
.sheet-cell {
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
}

/* 스프레드시트 컨테이너 - 패닝만 허용 */
.sheet-container {
  touch-action: pan-x pan-y;
  -webkit-overflow-scrolling: touch; /* iOS 부드러운 스크롤 */
}

/* 리사이즈 핸들 - 터치 동작 완전 차단 */
.resize-handle {
  touch-action: none;
}

/* 드래그 가능한 패널 */
.draggable-panel {
  touch-action: none;
}

/**
 * 모바일 터치 타겟 크기
 * - Apple HIG 권장: 최소 44x44px
 * - 참고: https://developer.apple.com/design/human-interface-guidelines/
 */
.touch-target {
  min-width: 44px;
  min-height: 44px;
}

.touch-target-sm {
  min-width: 36px;
  min-height: 36px;
}

/**
 * 모바일 셀 선택 핸들 (Google Sheets 스타일)
 * - 터치로 범위 확장할 수 있는 파란 핸들
 */
.mobile-selection-handle {
  position: absolute;
  width: 12px;
  height: 12px;
  background: var(--primary-blue);
  border: 2px solid white;
  border-radius: 50%;
  touch-action: none;
  cursor: grab;
  z-index: 100;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.mobile-selection-handle:active {
  cursor: grabbing;
  transform: scale(1.2);
}

/* 좌상단 핸들 */
.mobile-selection-handle.top-left {
  top: -6px;
  left: -6px;
}

/* 우하단 핸들 */
.mobile-selection-handle.bottom-right {
  bottom: -6px;
  right: -6px;
}

/**
 * 모바일 컨텍스트 메뉴 (롱프레스)
 * - 하단에서 슬라이드업 되는 액션 시트 스타일
 */
.mobile-context-menu {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--bg-primary);
  border-radius: 20px 20px 0 0;
  padding: env(safe-area-inset-bottom, 20px);
  padding-top: 12px;
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.15);
  z-index: 1100;
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.32, 0.72, 0, 1);
}

.mobile-context-menu.open {
  transform: translateY(0);
}

.mobile-context-menu-handle {
  width: 36px;
  height: 5px;
  background: var(--border-secondary);
  border-radius: 3px;
  margin: 0 auto 16px;
}

.mobile-context-menu-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 20px;
  font-size: 16px;
  color: var(--text-primary);
  border-radius: 12px;
  transition: background 0.15s;
}

.mobile-context-menu-item:active {
  background: var(--bg-hover);
}

.mobile-context-menu-item.destructive {
  color: var(--error);
}

/**
 * 롱프레스 피드백
 * - 사용자에게 롱프레스 진행 중임을 시각적으로 표시
 */
.longpress-feedback {
  position: relative;
}

.longpress-feedback::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--accent-light);
  border-radius: inherit;
  opacity: 0;
  transition: opacity 0.1s;
  pointer-events: none;
}

.longpress-feedback.pressing::after {
  opacity: 1;
}

/**
 * 모바일 반응형 브레이크포인트
 * - Tailwind 기본값과 동일하게 유지
 */
@media (max-width: 640px) {
  /* 모바일에서 더 큰 터치 타겟 */
  .sheet-cell {
    min-height: 44px;
  }

  /* 체크박스 크기 확대 */
  input[type="checkbox"] {
    width: 20px;
    height: 20px;
  }

  /* 버튼 터치 영역 확대 */
  .btn-ghost {
    padding: 12px 16px;
  }
}

/* 가로 스크롤 - 스크롤바 숨김 (드래그/휠로 이동) */
.scrollbar-x-hidden {
  overflow-x: auto;
  overflow-y: visible;
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-x-hidden::-webkit-scrollbar {
  display: none;
}

/* 라이트 모드 - 눈에 편한 소프트 팔레트 (2025 트렌드) */
:root {
  /* 배경 - 순백색 대신 따뜻한 오프화이트 */
  --bg-primary: #fefefe;
  --bg-secondary: #f8f9fb;
  --bg-tertiary: #f0f2f5;
  --bg-hover: #e8ebef;
  --bg-sidebar: #1a1f2e;
  --bg-sidebar-hover: #2d3548;
  --bg-sidebar-active: #4f8cdb;

  /* 텍스트 - 순흑색 대신 부드러운 다크그레이 */
  /* 접근성: WCAG AA 기준 4.5:1 대비율 충족 */
  --text-primary: #1a1f2e;
  --text-secondary: #4a5568;
  --text-tertiary: #5a6578; /* 기존 #718096에서 대비 개선 */
  --text-sidebar: #f7fafc;
  --text-sidebar-muted: rgba(247, 250, 252, 0.75);

  /* 테두리 - 부드러운 그레이 */
  --border-primary: #e2e6ec;
  --border-secondary: #ccd3dc;

  /* 메인 액센트 - 부드러운 블루 (눈 피로 감소) */
  --accent: #4f8cdb;
  --accent-hover: #3d7bc9;
  --accent-light: rgba(79, 140, 219, 0.12);
  --accent-text: #3d7bc9;

  /* 보조 컬러 - 채도를 낮춘 소프트 톤 */
  --primary-green: #3db88a;
  --primary-green-light: rgba(61, 184, 138, 0.12);
  --primary-blue: #5a9cf5;
  --primary-blue-light: rgba(90, 156, 245, 0.12);
  --primary-purple: #9179f2;
  --primary-purple-light: rgba(145, 121, 242, 0.12);
  --primary-red: #e86161;
  --primary-red-light: rgba(232, 97, 97, 0.12);
  --primary-yellow: #e5a440;
  --primary-yellow-light: rgba(229, 164, 64, 0.12);
  --primary-teal: #26a69a;
  --primary-teal-light: rgba(38, 166, 154, 0.12);

  /* 셀 에디터 및 수식 바 - 소프트 톤 */
  --editor-bg: #ffffff;
  --editor-bg-formula: #f5f0ff;
  --editor-border-focus: #5a9cf5;
  --editor-border-formula: #9179f2;
  --editor-shadow-focus: rgba(90, 156, 245, 0.15);
  --editor-shadow-formula: rgba(145, 121, 242, 0.15);

  --success: #3db88a;
  --success-light: rgba(61, 184, 138, 0.12);
  --warning: #e5a440;
  --warning-light: rgba(229, 164, 64, 0.12);
  --error: #e86161;
  --error-light: rgba(232, 97, 97, 0.12);

  /* 그림자 - 더 부드럽게 */
  --shadow-sm: 0 1px 3px rgba(26, 31, 46, 0.04);
  --shadow-md: 0 4px 12px rgba(26, 31, 46, 0.06);
  --shadow-lg: 0 8px 24px rgba(26, 31, 46, 0.08);

  /* 행/열 하이라이트 */
  --row-col-highlight: rgba(90, 156, 245, 0.25);
  --row-col-highlight-text: #2563a8;
  --row-col-highlight-border: #5a9cf5;
}

/* 다크 모드 - 눈에 편한 소프트 다크 팔레트 (2025 트렌드) */
/* 순수 검정 대신 부드러운 다크그레이 사용 - 눈 피로 감소 */
.dark {
  /* 배경 - #000000 대신 부드러운 다크블루그레이 */
  --bg-primary: #151921;
  --bg-secondary: #1c2028;
  --bg-tertiary: #262b36;
  --bg-hover: #323844;
  --bg-sidebar: #12151c;
  --bg-sidebar-hover: #1c2028;
  --bg-sidebar-active: #5a9cf5;

  /* 텍스트 - 순백색 대신 소프트 화이트 (할레이션 효과 방지) */
  /* 접근성: WCAG AA 기준 4.5:1 대비율 충족 */
  --text-primary: #e8ecf2;
  --text-secondary: #a8b4c4;
  --text-tertiary: #8d9aad; /* 기존 #7d8a9d에서 대비 개선 */
  --text-sidebar: #e8ecf2;
  --text-sidebar-muted: rgba(232, 236, 242, 0.72);

  /* 테두리 - 부드러운 다크그레이 */
  --border-primary: #2e3440;
  --border-secondary: #3d4451;

  /* 메인 액센트 - 채도 20% 낮춘 소프트 블루 */
  --accent: #6ba8f5;
  --accent-hover: #5a9cf5;
  --accent-light: rgba(107, 168, 245, 0.18);
  --accent-text: #7bb4f7;

  /* 보조 컬러 - 다크 모드용 (채도 낮춤, 광학 진동 방지) */
  --primary-green: #5cc9a0;
  --primary-green-light: rgba(92, 201, 160, 0.18);
  --primary-blue: #7bb4f7;
  --primary-blue-light: rgba(123, 180, 247, 0.18);
  --primary-purple: #a896f5;
  --primary-purple-light: rgba(168, 150, 245, 0.18);
  --primary-red: #f08080;
  --primary-red-light: rgba(240, 128, 128, 0.18);
  --primary-yellow: #f0c060;
  --primary-yellow-light: rgba(240, 192, 96, 0.18);
  --primary-teal: #4db6ac;
  --primary-teal-light: rgba(77, 182, 172, 0.18);

  /* 셀 에디터 및 수식 바 - 다크모드 소프트 톤 */
  --editor-bg: #1e2430;
  --editor-bg-formula: #252338;
  --editor-border-focus: #7bb4f7;
  --editor-border-formula: #a896f5;
  --editor-shadow-focus: rgba(123, 180, 247, 0.2);
  --editor-shadow-formula: rgba(168, 150, 245, 0.2);

  --success: #5cc9a0;
  --success-light: rgba(92, 201, 160, 0.18);
  --warning: #f0c060;
  --warning-light: rgba(240, 192, 96, 0.18);
  --error: #f08080;
  --error-light: rgba(240, 128, 128, 0.18);

  /* 그림자 - 다크모드에 맞게 */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.25);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.35);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.45);

  /* 행/열 하이라이트 */
  --row-col-highlight: rgba(123, 180, 247, 0.3);
  --row-col-highlight-text: #a8c8f7;
  --row-col-highlight-border: #7bb4f7;
}

* {
  box-sizing: border-box;
}

body {
  color: var(--text-primary);
  background: var(--bg-secondary);
  font-family: 'Inter', 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  font-size: 14px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* 스크롤바 */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--border-secondary);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-tertiary);
}

/* 커스텀 스크롤바 - 스크롤 트랙 항상 표시 */
.scrollbar-visible {
  scrollbar-width: thin;
  scrollbar-color: var(--border-secondary) var(--bg-tertiary);
}

.scrollbar-visible::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.scrollbar-visible::-webkit-scrollbar-track {
  background: var(--bg-tertiary);
  border-radius: 3px;
}

.scrollbar-visible::-webkit-scrollbar-thumb {
  background: var(--border-secondary);
  border-radius: 3px;
  transition: background 0.2s ease;
}

.scrollbar-visible::-webkit-scrollbar-thumb:hover {
  background: var(--text-tertiary);
}

/* 슬림 스크롤바 - 더 작은 영역용 */
.scrollbar-slim {
  scrollbar-width: thin;
  scrollbar-color: var(--border-secondary) transparent;
}

.scrollbar-slim::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.scrollbar-slim::-webkit-scrollbar-track {
  background: transparent;
  margin: 4px 0;
}

.scrollbar-slim::-webkit-scrollbar-thumb {
  background: var(--border-secondary);
  border-radius: 2px;
}

.scrollbar-slim::-webkit-scrollbar-thumb:hover {
  background: var(--text-tertiary);
}

/* 버튼 스타일 */
.btn-primary {
  @apply px-4 py-2 font-semibold rounded-lg transition-all duration-150;
  background: var(--accent);
  color: white;
}

.btn-primary:hover {
  background: var(--accent-hover);
  box-shadow: 0 2px 8px rgba(14, 165, 233, 0.3);
}

.btn-secondary {
  @apply px-4 py-2 font-medium rounded-lg border transition-all duration-150;
  background: var(--bg-primary);
  color: var(--text-primary);
  border-color: var(--border-secondary);
}

.btn-secondary:hover {
  background: var(--bg-tertiary);
}

.btn-ghost {
  @apply px-3 py-1.5 text-sm font-medium rounded-lg transition-all duration-150;
  color: var(--text-secondary);
}

.btn-ghost:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

/* 카드 */
.card {
  background: var(--bg-primary);
  border: 1px solid var(--border-primary);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);
}

.card:hover {
  box-shadow: var(--shadow-md);
}

/* 인풋 */
/**
 * iOS Safari 자동 줌 방지
 * - 16px 미만 폰트에서 input focus 시 자동 줌됨
 * - 참고: https://medium.com/@rares.popescu/2-ways-to-avoid-the-automatic-zoom-in-on-input-fields-8a71479e542e
 */
input[type="text"],
input[type="number"],
input[type="email"],
textarea,
select {
  background: var(--bg-primary);
  border: 1px solid var(--border-secondary);
  color: var(--text-primary);
  border-radius: 8px;
  padding: 8px 12px;
  font-size: 16px; /* iOS 자동 줌 방지 - 최소 16px */
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

input[type="text"]:focus,
input[type="number"]:focus,
input[type="email"]:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px var(--accent-light);
}

input::placeholder,
textarea::placeholder {
  color: var(--text-tertiary);
}

/* 테이블 셀 */
.cell-editing {
  box-shadow: 0 0 0 2px var(--accent);
}

.cell-formula {
  background: var(--primary-blue-light);
}

.cell-error {
  background: var(--error-light);
  color: var(--error);
}

/* 체크박스 */
input[type="checkbox"] {
  width: 16px;
  height: 16px;
  border-radius: 4px;
  border: 2px solid var(--border-secondary);
  background: var(--bg-primary);
  cursor: pointer;
  transition: all 0.15s ease;
  appearance: none;
  -webkit-appearance: none;
}

input[type="checkbox"]:hover {
  border-color: var(--accent);
}

input[type="checkbox"]:checked {
  background: var(--accent);
  border-color: var(--accent);
}

input[type="checkbox"]:checked::after {
  content: '✓';
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 11px;
  font-weight: bold;
}

/* 모달 */
.modal-overlay {
  background: rgba(15, 23, 42, 0.6);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* 배지 */
.badge {
  @apply inline-flex items-center px-2 py-0.5 rounded-md text-xs font-semibold;
}

.badge-primary {
  background: var(--accent-light);
  color: var(--accent-text);
}

.badge-success {
  background: var(--success-light);
  color: var(--success);
}

.badge-warning {
  background: var(--warning-light);
  color: var(--warning);
}

.badge-error {
  background: var(--error-light);
  color: var(--error);
}

/* 애니메이션 */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-out;
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(-8px); }
  to { opacity: 1; transform: translateX(0); }
}

.animate-slideIn {
  animation: slideIn 0.2s ease-out;
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.96); }
  to { opacity: 1; transform: scale(1); }
}

.animate-scaleIn {
  animation: scaleIn 0.15s ease-out;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.animate-slideUp {
  animation: slideUp 0.2s ease-out;
}

@keyframes slideDown {
  from { opacity: 0; max-height: 0; transform: translateY(-8px); overflow: hidden; }
  to { opacity: 1; max-height: 2000px; transform: translateY(0); overflow: visible; }
}

.animate-slideDown {
  animation: slideDown 0.3s ease-out forwards;
}

/* 호버 효과 */
.hover-lift {
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

/* 포커스 링 */
.focus-ring:focus {
  outline: none;
  box-shadow: 0 0 0 3px var(--accent-light);
}

/* 사이드바 아이템 */
.sidebar-item {
  @apply flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-colors;
  color: var(--text-sidebar-muted);
}

.sidebar-item:hover {
  background: var(--bg-sidebar-hover);
  color: var(--text-sidebar);
}

.sidebar-item.active {
  background: var(--bg-sidebar-active);
  color: var(--text-sidebar);
}

/* 패널 헤더 */
.panel-header {
  @apply flex items-center justify-between px-4 py-3;
  background: var(--bg-tertiary);
  border-bottom: 1px solid var(--border-primary);
}

.panel-header-title {
  @apply flex items-center gap-2 font-semibold text-sm;
  color: var(--text-primary);
}

/* ========================================
   Glassmorphism Panel System
   ======================================== */

/* Glass Panel Base */
.glass-panel {
  background: rgba(255, 255, 255, 0.96);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.08),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
  border-radius: 20px;
}

.dark .glass-panel {
  background: rgba(30, 41, 59, 0.96);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset;
}

/* Glass Panel Header */
.glass-panel-header {
  @apply flex items-center justify-between px-4 py-3 sm:px-5 sm:py-4;
  background: transparent;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

.dark .glass-panel-header {
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}

/* Glass Panel Content */
.glass-panel-content {
  @apply p-4 sm:p-5;
}

/* Glass Card - 패널 내부 카드 */
.glass-card {
  background: rgba(255, 255, 255, 0.92);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 16px;
  transition: all 0.2s ease;
}

.glass-card:hover {
  background: rgba(255, 255, 255, 0.96);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
}

.dark .glass-card {
  background: rgba(51, 65, 85, 0.92);
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.dark .glass-card:hover {
  background: rgba(51, 65, 85, 0.96);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

/* Glass Input */
.glass-input {
  background: rgba(255, 255, 255, 0.6) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  border-radius: 12px !important;
  transition: all 0.2s ease;
}

.glass-input:focus {
  background: rgba(255, 255, 255, 0.9) !important;
  border-color: var(--accent) !important;
  box-shadow: 0 0 0 3px var(--accent-light) !important;
}

.dark .glass-input {
  background: rgba(51, 65, 85, 0.6) !important;
  border: 1px solid rgba(255, 255, 255, 0.08) !important;
}

.dark .glass-input:focus {
  background: rgba(51, 65, 85, 0.9) !important;
}

/* Glass Button */
.glass-button {
  @apply px-4 py-2.5 font-medium rounded-xl transition-all duration-200;
  background: rgba(255, 255, 255, 0.6);
  border: 1px solid rgba(0, 0, 0, 0.08);
  color: var(--text-primary);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.glass-button:hover {
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transform: translateY(-1px);
}

.glass-button:active {
  transform: translateY(0);
}

.dark .glass-button {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.dark .glass-button:hover {
  background: rgba(51, 65, 85, 0.9);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

/* Glass Button Primary */
.glass-button-primary {
  @apply px-4 py-2.5 font-semibold rounded-xl transition-all duration-200;
  background: linear-gradient(135deg, var(--accent), var(--accent-hover));
  border: none;
  color: white;
  box-shadow: 0 4px 16px rgba(14, 165, 233, 0.3);
}

.glass-button-primary:hover {
  box-shadow: 0 6px 20px rgba(14, 165, 233, 0.4);
  transform: translateY(-1px);
}

.glass-button-primary:active {
  transform: translateY(0);
}

/* Glass Tabs */
.glass-tabs {
  @apply flex gap-1 p-1;
  background: rgba(0, 0, 0, 0.04);
  border-radius: 14px;
}

.dark .glass-tabs {
  background: rgba(255, 255, 255, 0.04);
}

.glass-tab {
  @apply px-4 py-2 text-sm font-medium rounded-xl transition-all duration-200;
  color: var(--text-secondary);
}

.glass-tab:hover {
  color: var(--text-primary);
  background: rgba(255, 255, 255, 0.5);
}

.glass-tab.active {
  color: var(--text-primary);
  background: rgba(255, 255, 255, 0.8);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.dark .glass-tab:hover {
  background: rgba(255, 255, 255, 0.08);
}

.dark .glass-tab.active {
  background: rgba(255, 255, 255, 0.12);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Glass Badge */
.glass-badge {
  @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold;
  background: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(0, 0, 0, 0.05);
}

.dark .glass-badge {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Glass Section - 섹션 구분용 */
.glass-section {
  @apply p-4 rounded-2xl;
  background: rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(0, 0, 0, 0.04);
}

.dark .glass-section {
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.04);
}

/* Glass Divider */
.glass-divider {
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(0, 0, 0, 0.08) 20%,
    rgba(0, 0, 0, 0.08) 80%,
    transparent
  );
}

.dark .glass-divider {
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.08) 20%,
    rgba(255, 255, 255, 0.08) 80%,
    transparent
  );
}

/* Glass Select */
.glass-select {
  @apply appearance-none cursor-pointer;
  background: rgba(255, 255, 255, 0.96) !important;
  backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  border-radius: 8px !important;
  padding-right: 2.5rem !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: right 0.75rem center !important;
  color: var(--text-primary) !important;
}

.dark .glass-select {
  background: rgba(30, 41, 59, 0.96) !important;
  backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E") !important;
}

.glass-select option {
  background: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

/* Glass Stat Card */
.glass-stat {
  @apply p-4 rounded-2xl text-center;
  background: linear-gradient(135deg, rgba(255,255,255,0.6), rgba(255,255,255,0.3));
  border: 1px solid rgba(255, 255, 255, 0.3);
}

.dark .glass-stat {
  background: linear-gradient(135deg, rgba(51,65,85,0.6), rgba(51,65,85,0.3));
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* Glass Progress Bar */
.glass-progress {
  @apply h-2 rounded-full overflow-hidden;
  background: rgba(0, 0, 0, 0.06);
}

.dark .glass-progress {
  background: rgba(255, 255, 255, 0.06);
}

.glass-progress-bar {
  @apply h-full rounded-full transition-all duration-300;
  background: linear-gradient(90deg, var(--accent), var(--accent-hover));
}

/* 스크롤바 완전 숨김 (커스텀 스크롤바 사용) */
.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Liquid Glass 스타일 */
.liquid-glass-active {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-top: 1px solid rgba(255, 255, 255, 0.3);
  border-left: 1px solid rgba(255, 255, 255, 0.3);
  border-right: 1px solid rgba(255, 255, 255, 0.3);
  border-bottom: none;
  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

.dark .liquid-glass-active {
  background: rgba(255, 255, 255, 0.1);
  border-top: 1px solid rgba(255, 255, 255, 0.15);
  border-left: 1px solid rgba(255, 255, 255, 0.15);
  border-right: 1px solid rgba(255, 255, 255, 0.15);
  border-bottom: none;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Liquid Glass 텍스트 스타일 */
.liquid-glass-text {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(255, 255, 255, 0.7) 50%,
    rgba(255, 255, 255, 0.95) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow:
    0 1px 2px rgba(255, 255, 255, 0.3),
    0 0 20px rgba(255, 255, 255, 0.1);
  position: relative;
}

.liquid-glass-text::before {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.4) 0%,
    transparent 50%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  pointer-events: none;
}

/* 라이트 모드 Liquid Glass 텍스트 */
.liquid-glass-text-light {
  background: linear-gradient(
    135deg,
    rgba(30, 41, 59, 0.95) 0%,
    rgba(51, 65, 85, 0.8) 50%,
    rgba(30, 41, 59, 0.95) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow:
    0 1px 0 rgba(255, 255, 255, 0.5),
    0 -1px 0 rgba(0, 0, 0, 0.1);
  filter: drop-shadow(0 1px 1px rgba(255, 255, 255, 0.3));
}

/* 컬러 Liquid Glass 텍스트 - 블루 */
.liquid-glass-text-blue {
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.85) 0%,
    rgba(96, 165, 250, 0.6) 25%,
    rgba(191, 219, 254, 0.4) 50%,
    rgba(96, 165, 250, 0.6) 75%,
    rgba(59, 130, 246, 0.85) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow:
    0 0 40px rgba(59, 130, 246, 0.5),
    0 0 80px rgba(59, 130, 246, 0.3),
    0 2px 4px rgba(0, 0, 0, 0.1);
  filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.4));
}

/* 컬러 Liquid Glass 텍스트 - 그린 */
.liquid-glass-text-green {
  background: linear-gradient(
    135deg,
    rgba(16, 185, 129, 0.85) 0%,
    rgba(52, 211, 153, 0.6) 25%,
    rgba(167, 243, 208, 0.4) 50%,
    rgba(52, 211, 153, 0.6) 75%,
    rgba(16, 185, 129, 0.85) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow:
    0 0 40px rgba(16, 185, 129, 0.5),
    0 0 80px rgba(16, 185, 129, 0.3),
    0 2px 4px rgba(0, 0, 0, 0.1);
  filter: drop-shadow(0 0 8px rgba(16, 185, 129, 0.4));
}

/* 컬러 Liquid Glass 텍스트 - 퍼플 */
.liquid-glass-text-purple {
  background: linear-gradient(
    135deg,
    rgba(139, 92, 246, 0.85) 0%,
    rgba(167, 139, 250, 0.6) 25%,
    rgba(221, 214, 254, 0.4) 50%,
    rgba(167, 139, 250, 0.6) 75%,
    rgba(139, 92, 246, 0.85) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow:
    0 0 40px rgba(139, 92, 246, 0.5),
    0 0 80px rgba(139, 92, 246, 0.3),
    0 2px 4px rgba(0, 0, 0, 0.1);
  filter: drop-shadow(0 0 8px rgba(139, 92, 246, 0.4));
}

/* ===== Apple Liquid Glass 효과 (macOS/iOS 26 스타일) ===== */

/* Liquid Glass 컨테이너 - 라이트 모드 */
.liquid-glass {
  position: relative;
  background: rgba(255, 255, 255, 0.65);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.4);
  border-radius: 20px;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.08),
    0 2px 8px rgba(0, 0, 0, 0.04),
    inset 0 1px 0 rgba(255, 255, 255, 0.6),
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);
  overflow: hidden;
}

/* Liquid Glass 내부 빛 효과 */
.liquid-glass::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 50%;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 255, 255, 0) 100%
  );
  pointer-events: none;
  border-radius: 20px 20px 0 0;
}

/* Liquid Glass 광택 효과 */
.liquid-glass::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 20px;
  box-shadow:
    inset -8px -6px 0 -9px rgba(255, 255, 255, 0.8),
    inset 0 -8px 0 -6px rgba(255, 255, 255, 0.6);
  opacity: 0.5;
  pointer-events: none;
}

/* Liquid Glass - 다크 모드 */
.dark .liquid-glass {
  background: rgba(30, 30, 30, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.25),
    0 2px 8px rgba(0, 0, 0, 0.15),
    inset 0 1px 0 rgba(255, 255, 255, 0.08),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2);
}

.dark .liquid-glass::before {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0) 100%
  );
}

.dark .liquid-glass::after {
  background: rgba(255, 255, 255, 0.03);
  box-shadow:
    inset -8px -6px 0 -9px rgba(255, 255, 255, 0.15),
    inset 0 -8px 0 -6px rgba(255, 255, 255, 0.1);
}

/* Liquid Glass Dock - macOS 스타일 독 */
.liquid-glass-dock {
  position: relative;
  background: rgba(255, 255, 255, 0.72);
  backdrop-filter: blur(24px) saturate(200%);
  -webkit-backdrop-filter: blur(24px) saturate(200%);
  border: 1px solid rgba(255, 255, 255, 0.35);
  border-radius: 18px;
  box-shadow:
    0 10px 40px rgba(0, 0, 0, 0.1),
    0 4px 12px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.7),
    inset 0 -1px 0 rgba(0, 0, 0, 0.04);
  /* overflow visible로 호버 시 확대/툴팁이 밖으로 나갈 수 있게 */
  overflow: visible;
}

/* Dock 내부 하이라이트 - 아이템 아래 레이어로 */
.liquid-glass-dock::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 255, 255, 0) 50%
  );
  pointer-events: none;
  border-radius: 22px;
  z-index: 0;
}

/* Dock - 다크 모드 */
.dark .liquid-glass-dock {
  background: rgba(40, 40, 40, 0.75);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow:
    0 10px 40px rgba(0, 0, 0, 0.35),
    0 4px 12px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.25);
}

.dark .liquid-glass-dock::before {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.08) 0%,
    rgba(255, 255, 255, 0) 50%
  );
  border-radius: 22px;
}

/* Dock 아이템 래퍼 - 호버 영역 확장 (독 밖으로) */
.dock-item-wrapper {
  position: relative;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  cursor: pointer;
}

/* 호버 영역을 독 바 위쪽으로 확장하는 가상 요소 */
.dock-item-wrapper::before {
  content: '';
  position: absolute;
  top: -24px;
  left: -4px;
  right: -4px;
  bottom: 0;
  z-index: -1;
}

/* Dock 아이템 */
.dock-item {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  border-radius: 14px;
  cursor: pointer;
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1),
              background 0.15s ease,
              z-index 0s;
  transform-origin: bottom center;
  z-index: 10;
}

.dock-item-wrapper:hover .dock-item {
  z-index: 200;
}

/* 활성 상태는 점으로만 표시 (배경색 없음) */

/* Dock 아이템 활성 표시점 */
.dock-item-indicator {
  position: absolute;
  bottom: -6px;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: var(--text-secondary);
  transition: all 0.2s ease;
  opacity: 0;
  transform: scale(0);
}

.dock-item.active .dock-item-indicator {
  opacity: 1;
  transform: scale(1);
}

/* Dock 툴팁 */
.dock-tooltip {
  position: absolute;
  bottom: calc(100% + 16px);
  left: 50%;
  transform: translateX(-50%) translateY(4px);
  padding: 6px 12px;
  background: rgba(30, 30, 30, 0.95);
  color: white;
  font-size: 12px;
  font-weight: 500;
  border-radius: 8px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: all 0.15s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
  z-index: 100;
}

.dark .dock-tooltip {
  background: rgba(50, 50, 50, 0.98);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
}

.dock-item:hover .dock-tooltip {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* 스크롤바 숨김 */
.scrollbar-none {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-none::-webkit-scrollbar {
  display: none;
}
